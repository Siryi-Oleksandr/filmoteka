!function(){function n(n){return n.map((n=>{const{genres:s,id:e,imgUrl:i,name:t,rating:a,year:r}=n,c=function(n){return n.length<=3?n.join(", "):`${n[0]}, ${n[1]}, Other`}(s);return`<li class="films__item">\n        <a href="" class="films__link">\n          <div class="films__img-wrapper">\n            <img\n              src="${i}"\n              alt="${t}"\n              class="films__img" loading="lazy"\n            />\n          </div>\n          <div class="films__info">\n            <p class="films__name">${t}</p>\n            <p class="films__desk">\n              <span class="films__genre">${c}</span> |\n              <span class="films__year">${r}</span>\n            </p>\n            <p class="films__desk">\n              <span class="films__rating--text"> Rating: </span>\n              <span class="films__rating">${a}</span>\n            </p>\n          </div>\n        </a>\n      </li>`})).join("")}const s={moviesList:document.querySelector(".js-films-list")},e="https://image.tmdb.org/t/p/",i="w500";(async function(){const n=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=d03712107dcdd723f1173c5ee2c0d8c1"),s=await n.json(),e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=d03712107dcdd723f1173c5ee2c0d8c1&language=en-US"),i=await e.json();return[s,i]})().then((function(t){const{results:a}=t[0],{genres:r}=t[1];!function(e){const i=n(e);s.moviesList.innerHTML=i}(function(n,s){return n.map((({poster_path:n,genre_ids:t,vote_average:a,title:r,id:c,release_date:l})=>{const o=e+i+n,m=function(n,s){const e=[];return n.find((n=>{s.forEach((s=>{s.id===n&&e.push(s.name)}))})),e}(t,s);return{imgUrl:o,genres:m,rating:a.toFixed(2),name:r,id:c,year:Number.parseInt(l)}}))}(a,r))})).catch((function(){}))}();
//# sourceMappingURL=index.a750cc4d.js.map
